<nb-layout>
  <nb-layout-column>
    <nb-card>
      <nb-card-header>
        <h1>{{getSurvey().title}}</h1>
      </nb-card-header>
      <nb-card-body>
        <nb-card>
          <nb-card-header>
            <h4>Information</h4>
          </nb-card-header>
          <nb-card-body>
            <nb-list>
              <nb-list-item>
                <div class="item-container">
                  <div class="item-left">
                    <b>Created by</b>:
                  </div>
                  <div class="item-1">
                    <nb-user name="{{getOwnerDetails().name}} {{getOwnerDetails().surname}}" title="{{getOwnerDetails().username}}"></nb-user>
                  </div>
                </div>
              </nb-list-item>
              <nb-list-item>
                <div class="item-left">
                  <b>Creation date</b>:
                </div>
                <div class="item-left">
                  {{getSurvey().creationDate[0]}}/{{getSurvey().creationDate[1]}}/{{getSurvey().creationDate[2]}}
                  <br>{{getSurvey().creationDate[3]}}:{{getSurvey().creationDate[4]}}:{{getSurvey().creationDate[5]}}
                </div>
              </nb-list-item>
            </nb-list>
          </nb-card-body>
          <nb-card-footer>
            <div class="item-right">
              <button nbButton (click)="deleteSurvey(getSurvey().title)">Delete<nb-icon icon="trash-2"></nb-icon></button>
            </div>
          </nb-card-footer>
        </nb-card>
        <nb-card>
          <nb-tabset fullWidth="">
            <nb-tab tabTitle="Questions">
              <ng-container *ngFor="let question of questions">
                <nb-card>
                  <nb-card-header>
                    <h5>{{question.question.question}}</h5>
                  </nb-card-header>
                  <div *ngIf="isMultipleChoice(question.question)">
                    <div class="item-1">
                      <nb-card-body>
                        <nb-radio-group disabled [(ngModel)]="nullVariable">
                          <nb-radio *ngFor="let option of getOptions(question.question)">
                            {{option.option}}
                          </nb-radio>
                        </nb-radio-group>
                      </nb-card-body>
                    </div>
                  </div>
                  <div *ngIf="isOpenEnded(question.question)">
                    <nb-card-body>
                      <div class="item-container">
                        <div class="item-left">
                          <h5><b>Answer: </b></h5>
                        </div>
                        <div class="item-1">
                          <textarea nbInput fullWidth="true" disabled></textarea>
                        </div>
                      </div>
                    </nb-card-body>
                  </div>
                  <div *ngIf="isImage(question.question)">
                    <nb-card-body>
                      <div class="item-container">
                        <div class="item-left">
                          <h5><b>Answer: </b></h5>
                        </div>
                        <div class="item-1">
                          <textarea nbInput fullWidth="true" disabled></textarea>
                        </div>
                      </div>
                    </nb-card-body>
                  </div>
                </nb-card>
              </ng-container>
            </nb-tab>
            <nb-tab tabTitle="Answers">
              <nb-card>
                <nb-card-body>
                  <nb-list>
                    <nb-list-item>
                      <div class="item-container">
                        <div class="item-1">
                          <b>Answered by</b>
                        </div>
                        <div class="item-1">
                          <b>Answer date</b>
                        </div>
                        <div class="item-2">
                          <b>Rating</b>
                        </div>
                        <div class="item-3">
                          <b>Feedback</b>
                        </div>
                        <div class="item-3"><!--BUTTON DETAILS--></div>
                      </div>
                    </nb-list-item>
                    <nb-list-item *ngFor="let answer of answers">
                      <div class="item-container">
                        <div class="item-1">
                          <nb-user name="{{answer.user.name}} {{answer.user.surname}}" title="{{answer.user.username}}"></nb-user>
                        </div>
                        <div class="item-1">
                          {{answer.answer.answerDate[0]}}/{{answer.answer.answerDate[1]}}/{{answer.answer.answerDate[2]}}
                          <br>{{answer.answer.answerDate[3]}}:{{answer.answer.answerDate[4]}}:{{answer.answer.answerDate[5]}}
                        </div>
                        <div class="item-2">
                          {{answer.answer.rating}}
                        </div>
                        <div class="item-3">
                          {{answer.answer.feedback}}
                        </div>
                        <div class="item-3">
                          <button nbButton (click)="goToAnswerSummaryPage(answer.answer)">Details<nb-icon icon="file-text"></nb-icon></button>
                        </div>
                      </div>
                    </nb-list-item>
                  </nb-list>
                </nb-card-body>
              </nb-card>
            </nb-tab>
            <nb-tab tabTitle="Invitations">
              <nb-card>
                <nb-card-body>
                  <nb-list>
                    <nb-list-item>
                      <div class="item-container">
                        <div class="item-1">
                          <b>Recipient</b>
                        </div>
                        <div class="item-1">
                          <b>Invitation date</b>
                        </div>
                        <div class="item-2">
                          <b>Accepted</b>
                        </div>
                        <div class="item-2">
                          <b>Message</b>
                        </div>
                        <div class="item-3"></div> <!--Button SEE ANSWER-->
                        <div class="item-3"></div> <!--Button DELETE-->
                      </div>
                    </nb-list-item>
                    <nb-list-item *ngFor="let invitation of invitations">
                      <div class="item-container">
                        <div class="item-1">
                          <nb-user name="{{invitation.recipient.name}} {{invitation.recipient.surname}}" title="{{invitation.recipient.username}}"></nb-user>
                        </div>
                        <div class="item-1">
                          {{invitation.invitation.invitationDate[0]}}/{{invitation.invitation.invitationDate[1]}}/{{invitation.invitation.invitationDate[2]}}
                          <br>{{invitation.invitation.invitationDate[3]}}:{{invitation.invitation.invitationDate[4]}}:{{invitation.invitation.invitationDate[5]}}
                        </div>
                        <div class="item-2">
                          <nb-icon icon="{{getInvitationAcceptedIcon(invitation.invitation)}}" status="{{getInvitationAcceptedStatus(invitation.invitation)}}"></nb-icon>
                        </div>
                        <div class="item-2">
                          {{invitation.invitation.message}}
                        </div>
                        <div class="item-3">
                          <button nbButton disabled="{{!invitation.invitation.accepted}}">See answer</button>
                        </div>
                        <div class="item-3">
                          <button nbButton (click)="deleteInvitation(invitation.invitation.id)">Delete<nb-icon icon="trash-2"></nb-icon></button>
                        </div>
                      </div>
                    </nb-list-item>
                  </nb-list>
                </nb-card-body>
                <nb-card-footer>
                  <div class="item-2">
                    <button nbButton (click)="openInvitationWindow()">Send invitations</button>
                  </div>
                </nb-card-footer>
              </nb-card>
            </nb-tab>
            <nb-tab tabTitle="Statistics">

            </nb-tab>
          </nb-tabset>
        </nb-card>
      </nb-card-body>
    </nb-card>
  </nb-layout-column>
</nb-layout>
